"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["60673"],{292824:function(t){t.exports="/assets/00fe8a6557e204eb9503.svg"},231239:function(t,e,n){var l=n(990547),i=n(283693),r=n(570140),a=n(573261),u=n(981631);e.Z={signup:(t,e)=>a.Z.post({url:u.ANM.HUB_WAITLIST_SIGNUP,body:{email:t,school:e},trackedActionData:{event:l.NetworkActionNames.HUB_WAITLIST_SIGNUP,properties:t=>{var e;let n=!1,l=null==t?void 0:null===(e=t.body)||void 0===e?void 0:e.email_domain;return null!=l&&(n=-1!==l.split(".").indexOf("edu")),(0,i.iG)({is_edu_email:n})}}}),sendVerificationEmail:async(t,e,n)=>(await a.Z.post({url:u.ANM.HUB_EMAIL_VERIFY_SEND,body:{email:t,guild_id:n,allow_multiple_guilds:e,use_verification_code:!0},trackedActionData:{event:l.NetworkActionNames.HUB_EMAIL_VERIFY_SEND,properties:t=>{var e;let n=null==t?void 0:null===(e=t.body)||void 0===e?void 0:e.has_matching_guild;return(0,i.iG)({has_matching_guild:n})}}})).body,async verify(t){if(null!=t)try{var e;let n=await a.Z.post({url:u.ANM.HUB_EMAIL_VERIFY,body:{token:t},trackedActionData:{event:l.NetworkActionNames.HUB_EMAIL_VERIFY}}),i=null===(e=n.body.guild)||void 0===e?void 0:e.id;r.Z.dispatch({type:"HUB_VERIFY_EMAIL_SUCCESS",guildId:i})}catch(t){r.Z.dispatch({type:"HUB_VERIFY_EMAIL_FAILURE",errors:t.body})}},async verifyCode(t,e,n){if(null!=t)try{var i;let o=await a.Z.post({url:u.ANM.HUB_EMAIL_VERIFY_CODE,body:{code:t,guild_id:e,email:n},trackedActionData:{event:l.NetworkActionNames.HUB_EMAIL_VERIFY}}),s=null===(i=o.body.guild)||void 0===i?void 0:i.id;return r.Z.dispatch({type:"HUB_VERIFY_EMAIL_SUCCESS",guildId:s}),o.body}catch(t){throw r.Z.dispatch({type:"HUB_VERIFY_EMAIL_FAILURE",errors:t.body}),t}}}},588705:function(t,e,n){n.d(e,{R:function(){return U}}),n(411104);var l=n(200651),i=n(192379),r=n(442837),a=n(481060),u=n(388905),o=n(686546),s=n(925329),c=n(372769),d=n(726745),_=n(973616),E=n(131704),p=n(601964),f=n(598077),N=n(594174),I=n(51144),A=n(981631),m=n(888592),T=n(245335),g=n(388032),S=n(823433);let U=()=>(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(u.qE,{src:null,size:a.AvatarSizes.DEPRECATED_SIZE_100,className:S.avatar}),(0,l.jsx)(u.DK,{children:g.intl.string(g.t["3rE1Pz"])}),(0,l.jsx)(u.Dx,{className:S.inviteResolvingGuildName,children:g.intl.string(g.t.ZTNur6)})]}),C=t=>{let{guild:e,user:n,application:i,compact:r}=t;if(null!=i)return(0,l.jsx)(s.Z,{className:S.appIcon,game:i,size:S.appIconSize});if(null!=n)return(0,l.jsx)(u.qE,{src:null!=n?n.getAvatarURL(void 0,80):null,size:a.AvatarSizes.SIZE_80,className:r?S.compactAvatar:S.avatar});if(null!=e)return(0,l.jsx)(o.ZP,{mask:o.ZP.Masks.SQUIRCLE,width:64,height:64,className:S.guildIcon,children:(0,l.jsx)(u.Vj,{guild:e,size:u.Vj.Sizes.LARGER,animate:!0})});else return null};e.Z=t=>{var e;let n,i,o,{invite:s,disableUser:U=!1,error:v,flatActivityCount:L=!1,isRegister:M=!1}=t,{currentUser:O,multiAccounts:R}=(0,r.cj)([d.Z,N.default],()=>({currentUser:N.default.getCurrentUser(),multiAccounts:d.Z.getUsers()}));if(null==s)return null;let h=null!=s.guild?new p.ZP(s.guild):null,y=null!=s.channel?(0,E.jD)(s.channel):null,Z=null!=s.target_application?new _.Z(s.target_application):null,D=U||null==s.inviter?null:new f.Z(s.inviter),w=!(null!=s.approximate_member_count&&s.approximate_member_count>100||null!=h&&h.hasFeature(A.oNc.COMMUNITY))&&null!=D,F=null,P=!1;if(null!=h)F=null==D?g.intl.string(g.t["3rE1Pz"]):g.intl.formatToPlainString(g.t["5u47vb"],{username:I.ZP.getFormattedName(D)}),s.target_type===T.Iq.STREAM&&null!=s.target_user&&(F=g.intl.formatToPlainString(g.t.x2L32d,{username:I.ZP.getFormattedName(s.target_user)})),s.target_type===T.Iq.EMBEDDED_APPLICATION&&null!=s.target_application&&(F=null!=D?g.intl.formatToPlainString(g.t.UW1Cam,{username:I.ZP.getFormattedName(D)}):g.intl.string(g.t.ENSuNz)),w&&null==Z&&(n=(0,l.jsx)(u.Vj,{className:S.icon,guild:h,size:u.Vj.Sizes.SMALL})),i=h.name,null!=Z&&(i=Z.name,o=(0,l.jsxs)("div",{children:[(0,l.jsx)(u.DK,{className:S.appIn,children:g.intl.string(g.t["3gg9fH"])}),(0,l.jsxs)("div",{className:S.guildContainer,children:[(0,l.jsx)(u.Vj,{guild:h,size:u.Vj.Sizes.SMALL}),(0,l.jsx)(a.Text,{tag:"span",variant:"text-lg/normal",color:"header-primary",className:S.appGuildName,children:h.name})]})]}));else if(null!=y){if(null==D)throw Error("no inviter in group DM invite");let t=I.ZP.getFormattedName(D);null!=y.name&&""!==y.name?(F=g.intl.formatToPlainString(g.t["5u47vb"],{username:t}),i=y.name,null!=y.icon&&(n=(0,l.jsx)(u.MC,{channel:y,size:a.AvatarSizes.SIZE_32}))):(F=g.intl.string(g.t.OsdY8P),i=t)}else if(null!=D){let t=I.ZP.getFormattedName(D,!0);i=g.intl.formatToPlainString(g.t["4aF92d"],{username:t}),P=!0,o=null!=v?null:(0,l.jsx)(u.DK,{className:S.directInviteSubTitle,children:M?g.intl.format(g.t["6r4JiY"],{username:t}):g.intl.format(g.t.Quj7HR,{username:t})})}return(0,l.jsxs)("div",{className:S.container,children:[(0,l.jsx)(C,{application:Z,guild:h,user:w?D:null,compact:P}),null!=v?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.DK,{children:g.intl.string(g.t.mDFGFh)}),(0,l.jsx)(u.Dx,{children:v})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.DK,{children:F}),(0,l.jsxs)(u.Dx,{className:S.title,children:[null!=h?(0,l.jsx)(c.Z,{guild:h,className:S.guildBadge,tooltipPosition:"left"}):null,n,i]})]}),o,null!=Z||P||(null==s?void 0:null===(e=s.guild)||void 0===e?void 0:e.id)===m.fQ?null:(0,l.jsx)(u.EJ,{className:S.activityCount,online:s.approximate_presence_count,total:s.approximate_member_count,flat:L}),R.length>1?(0,l.jsx)(u.jQ,{user:O}):null]})}},857458:function(t,e,n){n.d(e,{M:function(){return o}});var l=n(200651);if(n(192379),12633==n.j)var i=n(512969);var r=n(860911),a=n(981631),u=n(188785);function o(){let t=location.pathname+location.search;return u.a?a.Z5c.REGISTER:(0,r.Ui)(t,!1)}e.Z=12633==n.j?function(){return(0,l.jsx)(i.l_,{to:o()})}:null},962220:function(t,e,n){var l=n(39612),i=n(271579),r=n(756647),a=n(625128),u=n(626135),o=n(954824),s=n(751189),c=n(981631);let d="template";e.Z={...s.Z,openNativeAppModal(t){a.Z.openNativeAppModal(t,c.Etm.GUILD_TEMPLATE_BROWSER)},openMobileApp(t,e){if(null!=platform.ua&&platform.ua.toLowerCase().indexOf("googlebot")>-1)return;let n=null!=t?(0,l.Oh)(t):(0,l.Gk)(),a=(0,i.WS)(),s=(0,i.ZP)(n,{utmSource:d,fingerprint:e,attemptId:a});u.default.track(c.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,r.K)(e),attempt_id:a,source:d,guild_template_code:t}),o.Z.launch(s,()=>{})}}},888592:function(t,e,n){var l,i;n.d(e,{fQ:function(){return r},tF:function(){return l}}),(i=l||(l={})).STUDENT_PROMPT="STUDENT_PROMPT",i.VERIFY_EMAIL="VERIFY_EMAIL",i.VERIFY_PIN="VERIFY_PIN",i.SELECT_SCHOOL="SELECT_SCHOOL",i.SELECT_SCHOOL_SEARCH="SELECT_SCHOOL_SEARCH",i.SUBMIT_SCHOOL="SUBMIT_SCHOOL",i.EMAIL_CONFIRMATION="EMAIL_CONFIRMATION",i.EMAIL_WAITLIST="EMAIL_WAITLIST";let r="884924873015689226"},480387:function(t,e,n){n.d(e,{HJ:function(){return _},Zd:function(){return p},yD:function(){return E}});var l=n(213919),i=n(544891),r=n(570140),a=n(893776),u=n(710845),o=n(314897),s=n(726745),c=n(981631);let d=new u.Z("MultiAccountActionCreators");function _(){let t=o.default.getId();s.Z.getUsers().forEach(async e=>{let n,{id:a}=e,u=l.getToken(a);if(null==u||""===u){r.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:a});return}r.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_REQUEST",userId:a});try{n=await i.tn.get({url:c.ANM.ME,headers:{authorization:u},retries:3})}catch(e){let t=(null==e?void 0:e.status)===401||(null==e?void 0:e.status)===403;r.Z.dispatch({type:t?"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE":"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:a});return}r.Z.dispatch({type:t===a?"CURRENT_USER_UPDATE":"USER_UPDATE",user:n.body}),r.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:a})})}function E(t,e){d.log("Switching account to ".concat(t),{switchSynchronously:e});let n=l.getToken(t);return null==n?(d.log("Switching accounts failed because there was no token"),r.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:t}),Promise.resolve()):a.Z.switchAccountToken(n,e)}function p(t){r.Z.dispatch({type:"MULTI_ACCOUNT_REMOVE_ACCOUNT",userId:t})}},251423:function(t,e,n){n.d(e,{L:function(){return o}});var l=n(192379),i=n(442837),r=n(570140),a=n(480387),u=n(726745);function o(){let t=(0,i.cj)([u.Z],()=>({isLoading:u.Z.getIsValidatingUsers(),multiAccountUsers:u.Z.getUsers()}));return l.useEffect(()=>{r.Z.wait(()=>{a.HJ()})},[]),t}},929809:function(t,e,n){n.d(e,{H:function(){return r},c:function(){return i}});var l=n(570140);function i(t){l.Z.wait(()=>l.Z.dispatch({type:"NUF_NEW_USER",newUserType:t}))}function r(){l.Z.wait(()=>l.Z.dispatch({type:"NUF_COMPLETE"}))}},701476:function(t,e,n){var l,i;n.d(e,{M5:function(){return l}}),(i=l||(l={}))[i.MARKETING_UNCLAIMED=0]="MARKETING_UNCLAIMED",i[i.INVITE_UNCLAIMED=1]="INVITE_UNCLAIMED",i[i.ORGANIC_REGISTERED=2]="ORGANIC_REGISTERED",i[i.ORGANIC_REGISTERED_GUILD_TEMPLATE=3]="ORGANIC_REGISTERED_GUILD_TEMPLATE"},179645:function(t,e,n){var l,i=n(442837),r=n(570140);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}let u=null;class o extends(l=i.ZP.PersistedStore){initialize(t){var e;u=null!==(e=null==t?void 0:t.type)&&void 0!==e?e:null}getType(){return u}getState(){return{type:u}}}a(o,"displayName","NewUserStore"),a(o,"persistKey","nuf"),e.Z=new o(r.Z,{NUF_NEW_USER:function(t){let{newUserType:e}=t;u=e},NUF_COMPLETE:function(){u=null}})},541692:function(t,e,n){let l;var i,r=n(442837),a=n(570140),u=n(133080);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}let s=(0,u.K4)();function c(t){var e;let{countryCode:n}=t;if(null!=n)s=null!==(e=(0,u.Zz)(n))&&void 0!==e?e:(0,u.K4)()}class d extends(i=r.ZP.DeviceSettingsStore){initialize(t){if(null!=t)l=t.selectedCountryCode}getUserAgnosticState(){return{selectedCountryCode:l}}getCountryCode(){return null!=l?l:s}}o(d,"displayName","PhoneStore"),o(d,"persistKey","PhoneStore"),e.Z=new d(a.Z,{PHONE_SET_COUNTRY_CODE:function(t){let{countryCode:e}=t;l=e},CONNECTION_OPEN:c,SET_LOCATION_METADATA:c})},630724:function(t,e,n){var l,i,r,a,u,o,s,c,d,_;n.d(e,{EW:function(){return u},FF:function(){return i},MK:function(){return l},X2:function(){return a},mx:function(){return r}}),(o=l||(l={})).UNKNOWN="unknown",o.ANY="any",o.INVITE="invite",o.ORGANIC="organic_registration",o.ORGANIC_MARKETING="organic_marketing",o.ORGANIC_GUILD_TEMPLATES="organic_guild_template",o.CREATE_GUILD="create_guild",(s=i||(i={})).AGE_GATE="age_gate",s.AGE_GATE_UNDERAGE="age_gate_underage",(c=r||(r={})).CLAIM_ACCOUNT="claim_account",c.CLAIM_ACCOUNT_SUCCESS="claim_account_success",(d=a||(a={})).GUILD_TEMPLATES="guild_templates",d.GUILD_CREATE="guild_create",d.CREATION_INTENT="creation_intent",d.CHANNEL_PROMPT="channel_prompt",d.JOIN_GUILD="join_guild",d.SUCCESS="create_success",(_=u||(u={})).NUF_STARTED="nuf_started",_.AGE_GATE="age_gate",_.NUF_COMPLETE="nuf_complete",_.HUB_CONNECTION="hub_connection"},390885:function(t,e,n){var l=n(903797),i=n(731965),r=n(433517),a=n(710845),u=n(626135),o=n(630724),s=n(981631);let c="UserFlowAnalyticsStore_current",d="UserFlowAnalyticsStore";function _(t){if(t===o.MK.UNKNOWN)return null;let e=r.K.get("".concat(d,"-").concat(t));if(null==e)return null;let{version:n,...l}=e;return 1!==n?null:l}new a.Z("UserFlowAnalytics");let E=(0,l.Z)((t,e)=>({flows:{},currentFlow:null,activeFlow:()=>{var t;let n=null!==(t=e().currentFlow)&&void 0!==t?t:r.K.get(c);if(null==n)return null;let{[n]:l}=e().flows,i=null!=l?l:_(n);return(null==i?void 0:i.currentStep)!=null?n:null}}));function p(t,e){let{[t]:n,...l}=E.getState().flows,r=null!=n?n:_(t);if((null==r?void 0:r.currentStep)==null||r.currentStep!==e)(0,i.j)(()=>{E.setState({flows:{...l,[t]:{type:t,lastStep:null,lastTimestamp:null,currentStep:e,currentTimestamp:new Date,skipped:!1}},currentFlow:t})})}function f(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=t;if(t===o.MK.ANY){var r;l=null!==(r=E.getState().activeFlow())&&void 0!==r?r:o.MK.UNKNOWN}let{[l]:a,...u}=E.getState().flows,s=null!=a?a:_(l);if(null!=s&&null!=s.currentStep&&s.currentStep!==e)(0,i.j)(()=>{E.setState({flows:{...u,[l]:{...s,lastStep:s.currentStep,lastTimestamp:s.currentTimestamp,currentStep:e,currentTimestamp:new Date,ended:n}},currentFlow:l})})}E.subscribe(t=>{var e;if(null!=t){if(!function(t){if(t.type===o.MK.UNKNOWN)return;let e="".concat(d,"-").concat(t.type);t.ended?(r.K.remove(e),r.K.remove(c)):(r.K.set("".concat(d,"-").concat(t.type),{...t,version:1}),r.K.set(c,t.type))}(t),u.default.track(s.rMx.NUO_TRANSITION,{flow_type:t.type,from_step:t.lastStep,to_step:t.currentStep,seconds_on_from_step:"function"!=typeof(null===(e=t.lastTimestamp)||void 0===e?void 0:e.getTime)?0:(t.currentTimestamp.getTime()-t.lastTimestamp.getTime())/1e3},{flush:!0}),t.ended){let e={...E.getState().flows};delete e[t.type],(0,i.j)(()=>{E.setState({flows:e,currentFlow:null})})}}},t=>null!=t.currentFlow?t.flows[t.currentFlow]:void 0);function N(){return null!=E.getState().activeFlow()}e.Z={flowStart:p,flowStepOrStart:function(t,e){N()?f(t,e):p(t,e)},flowStep:f,hasActiveFlow:N}},3570:function(t,e,n){n.d(e,{T:function(){return o},s:function(){return s}});var l=n(536285),i=n(703656),r=n(314897),a=n(358085),u=n(981631);let o=a.isPlatformEmbedded?u.dG4:(t,e)=>{if(!(0,i.DB)())return l.default.request(u.Etm.DEEP_LINK,{type:t,params:e})},s=a.isPlatformEmbedded?u.dG4:(t,e)=>{if(!r.default.isAuthenticated())return o(t,{...e||{},fingerprint:r.default.getFingerprint()})}}}]);
//# sourceMappingURL=c6cdad243cee52a44e31.js.map